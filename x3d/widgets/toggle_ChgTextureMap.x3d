<X3D version="3.1" profile="Interchange">
  <Scene>


      <NavigationInfo headline='false'/>
      <Viewpoint description='Front View' position='0 0 .8'/>
      <DirectionalLight/>
      <Background skyColor='.6 .6 .7'/>



    <Transform translation="0 -.5 -1">
      <Transform rotation='.707 0 -.707 1'>
		<Shape>
	          <Box size='.5 .5 .5'/>
	          <Appearance>
	            <Material diffuseColor="1 1 1"/>
	            <ImageTexture DEF='MyImg' url="left.png"/>
	          </Appearance>
		</Shape>
	  </Transform>
	</Transform>



    <Transform rotation='1 0 0 1.1'>


    <Transform DEF="ToggleButton_XForm">
        <TouchSensor DEF='ToggleTouchSensor' description='touch to toggle'/>
      <Group DEF="ToggleButton_MeshItem">
        <Shape DEF="Default_Shape">
          <Appearance DEF="Base_Material_Surf">
            <Material diffuseColor="0.48 0.48 0.48" specularColor="0.04 0.04 0.04" shininess="0.6"/>
          </Appearance>
          <IndexedFaceSet creaseAngle="0.698132" coordIndex="8,9,42,-1, 44,42,9,-1, 81,82,33,-1, 35,33,82,-1, 
            89,90,49,-1, 51,49,90,-1, 99,98,69,-1, 67,69,98,-1, 
            26,79,106,-1, 108,106,79,-1, 10,11,46,-1, 48,46,11,-1, 
            80,81,31,-1, 33,31,81,-1, 88,89,47,-1, 49,47,89,-1, 
            97,65,98,-1, 67,98,65,-1, 106,52,107,-1, 25,107,52,-1, 
            11,0,48,-1, 50,48,0,-1, 32,81,30,-1, 80,30,81,-1, 
            48,89,46,-1, 88,46,89,-1, 66,64,98,-1, 97,98,64,-1, 
            26,106,12,-1, 107,12,106,-1, 54,14,52,-1, 25,52,14,-1, 
            80,31,78,-1, 29,78,31,-1, 88,47,87,-1, 45,87,47,-1, 
            97,96,65,-1, 63,65,96,-1, 104,50,105,-1, 0,105,50,-1, 
            56,15,54,-1, 14,54,15,-1, 28,30,78,-1, 80,78,30,-1, 
            44,46,87,-1, 88,87,46,-1, 64,62,97,-1, 96,97,62,-1, 
            76,104,13,-1, 105,13,104,-1, 62,18,60,-1, 17,60,18,-1, 
            12,1,26,-1, 28,26,1,-1, 86,43,85,-1, 41,85,43,-1, 
            94,59,95,-1, 61,95,59,-1, 102,75,103,-1, 77,103,75,-1, 
            110,109,77,-1, 103,77,109,-1, 60,17,58,-1, 16,58,17,-1, 
            28,78,26,-1, 79,26,78,-1, 44,87,42,-1, 86,42,87,-1, 
            62,60,96,-1, 95,96,60,-1, 53,77,55,-1, 57,55,77,-1, 
            77,75,57,-1, 59,57,75,-1, 75,73,59,-1, 61,59,73,-1, 
            73,71,61,-1, 63,61,71,-1, 71,69,63,-1, 65,63,69,-1, 
            69,67,65,-1, 110,51,109,-1, 90,109,51,-1, 58,16,56,-1, 
            15,56,16,-1, 78,29,79,-1, 27,79,29,-1, 87,45,86,-1, 
            43,86,45,-1, 95,61,96,-1, 63,96,61,-1, 51,27,49,-1, 
            47,49,27,-1, 27,29,47,-1, 45,47,29,-1, 29,31,45,-1, 
            43,45,31,-1, 31,33,43,-1, 41,43,33,-1, 33,35,41,-1, 
            39,41,35,-1, 35,37,39,-1, 64,19,62,-1, 18,62,19,-1, 
            1,2,28,-1, 30,28,2,-1, 40,42,85,-1, 86,85,42,-1, 
            58,94,60,-1, 95,60,94,-1, 74,102,76,-1, 103,76,102,-1, 
            111,53,108,-1, 92,108,53,-1, 9,10,44,-1, 46,44,10,-1, 
            32,34,81,-1, 82,81,34,-1, 48,50,89,-1, 90,89,50,-1, 
            66,98,68,-1, 99,68,98,-1, 19,20,18,-1, 17,18,20,-1, 
            20,21,17,-1, 16,17,21,-1, 21,22,16,-1, 15,16,22,-1, 
            22,23,15,-1, 14,15,23,-1, 23,24,14,-1, 25,14,24,-1, 
            24,13,25,-1, 107,25,13,-1, 13,105,107,-1, 12,107,105,-1, 
            105,0,12,-1, 1,12,0,-1, 0,11,1,-1, 2,1,11,-1, 
            11,10,2,-1, 3,2,10,-1, 10,9,3,-1, 4,3,9,-1, 
            9,8,4,-1, 5,4,8,-1, 8,7,5,-1, 6,5,7,-1, 
            66,20,64,-1, 19,64,20,-1, 2,3,30,-1, 32,30,3,-1, 
            84,85,39,-1, 41,39,85,-1, 93,57,94,-1, 59,94,57,-1, 
            101,73,102,-1, 75,102,73,-1, 111,108,27,-1, 79,27,108,-1, 
            74,24,72,-1, 23,72,24,-1, 6,7,38,-1, 40,38,7,-1, 
            82,83,35,-1, 37,35,83,-1, 54,52,91,-1, 92,91,52,-1, 
            100,99,71,-1, 69,71,99,-1, 76,103,104,-1, 109,104,103,-1, 
            70,22,68,-1, 21,68,22,-1, 4,5,34,-1, 36,34,5,-1, 
            84,39,83,-1, 37,83,39,-1, 93,91,57,-1, 55,57,91,-1, 
            101,100,73,-1, 71,73,100,-1, 51,110,27,-1, 111,27,110,-1, 
            76,13,74,-1, 24,74,13,-1, 7,8,40,-1, 42,40,8,-1, 
            36,83,34,-1, 82,34,83,-1, 91,92,55,-1, 53,55,92,-1, 
            70,68,100,-1, 99,100,68,-1, 52,106,92,-1, 108,92,106,-1, 
            72,23,70,-1, 22,70,23,-1, 5,6,36,-1, 38,36,6,-1, 
            36,38,83,-1, 84,83,38,-1, 54,91,56,-1, 93,56,91,-1, 
            70,100,72,-1, 101,72,100,-1, 50,104,90,-1, 109,90,104,-1, 
            68,21,66,-1, 20,66,21,-1, 3,4,32,-1, 34,32,4,-1, 
            38,40,84,-1, 85,84,40,-1, 58,56,94,-1, 93,94,56,-1, 
            74,72,102,-1, 101,102,72,-1, 110,77,111,-1, 53,111,77,-1">
            <Coordinate DEF="ToggleButton_Pts" point=" 0.0852 0.000366094 -0.07029, 0.103392 0.000366094 0.0678949, 0.120345 0.000366094 0.0608729, 0.134903 0.000366094 0.0497025
              , 0.146073 0.000366094 0.035145, 0.153095 0.000366094 0.0181924, 0.15549 0.000366094 0, 0.153095 0.000366094 -0.0181924
              , 0.146073 0.000366094 -0.035145, 0.134903 0.000366094 -0.0497025, 0.120345 0.000366094 -0.0608729, 0.103392 0.000366094 -0.0678949
              , 0.0852 0.000366094 0.07029, -0.0852 0.000366094 -0.07029, -0.103392 0.000366094 0.0678949, -0.120345 0.000366094 0.0608729
              , -0.134903 0.000366094 0.0497025, -0.146073 0.000366094 0.035145, -0.153095 0.000366094 0.0181924, -0.15549 0.000366094 0
              , -0.153095 0.000366094 -0.0181924, -0.146073 0.000366094 -0.035145, -0.134903 0.000366094 -0.0497025, -0.120345 0.000366094 -0.0608729
              , -0.103392 0.000366094 -0.0678949, -0.0852 0.000366094 0.07029, 0.0852 0.0211028 0.07029, 0.0848545 0.0263743 0.0650185
              , 0.103392 0.0211028 0.0678949, 0.102016 0.0263743 0.0627591, 0.120345 0.0211028 0.0608729, 0.117687 0.0263743 0.0562683
              , 0.134903 0.0211028 0.0497025, 0.131143 0.0263743 0.0459429, 0.146073 0.0211028 0.035145, 0.141468 0.0263743 0.0324865
              , 0.153095 0.0211028 0.0181924, 0.147959 0.0263743 0.0168163, 0.15549 0.0211028 0, 0.150173 0.0263743 0
              , 0.153095 0.0211028 -0.0181924, 0.147959 0.0263743 -0.0168163, 0.146073 0.0211028 -0.035145, 0.141468 0.0263743 -0.0324865
              , 0.134903 0.0211028 -0.0497025, 0.131143 0.0263743 -0.0459429, 0.120345 0.0211028 -0.0608729, 0.117687 0.0263743 -0.0562683
              , 0.103392 0.0211028 -0.0678949, 0.102016 0.0263743 -0.0627591, 0.0852 0.0211028 -0.07029, 0.0848545 0.0263743 -0.0650185
              , -0.0852 0.0211028 0.07029, -0.0848545 0.0263743 0.0650185, -0.103392 0.0211028 0.0678949, -0.102016 0.0263743 0.0627591
              , -0.120345 0.0211028 0.0608729, -0.117687 0.0263743 0.0562683, -0.134903 0.0211028 0.0497025, -0.131143 0.0263743 0.0459429
              , -0.146073 0.0211028 0.035145, -0.141468 0.0263743 0.0324865, -0.153095 0.0211028 0.0181924, -0.147959 0.0263743 0.0168163
              , -0.15549 0.0211028 0, -0.150173 0.0263743 0, -0.153095 0.0211028 -0.0181924, -0.147959 0.0263743 -0.0168163
              , -0.146073 0.0211028 -0.035145, -0.141468 0.0263743 -0.0324865, -0.134903 0.0211028 -0.0497025, -0.131143 0.0263743 -0.0459429
              , -0.120345 0.0211028 -0.0608729, -0.117687 0.0263743 -0.0562683, -0.103392 0.0211028 -0.0678949, -0.102016 0.0263743 -0.0627591
              , -0.0852 0.0211028 -0.07029, -0.0848545 0.0263743 -0.0650185, 0.102989 0.0248303 0.0663907, 0.0850988 0.0248303 0.068746
              , 0.119566 0.0248303 0.0595243, 0.133801 0.0248303 0.0486014, 0.144724 0.0248303 0.0343663, 0.151591 0.0248303 0.0177893
              , 0.153933 0.0248303 0, 0.151591 0.0248303 -0.0177893, 0.144724 0.0248303 -0.0343663, 0.133801 0.0248303 -0.0486014
              , 0.119566 0.0248303 -0.0595243, 0.102989 0.0248303 -0.0663907, 0.0850988 0.0248303 -0.068746, -0.102989 0.0248303 0.0663907
              , -0.0850988 0.0248303 0.068746, -0.119566 0.0248303 0.0595243, -0.133801 0.0248303 0.0486014, -0.144724 0.0248303 0.0343663
              , -0.151591 0.0248303 0.0177893, -0.153933 0.0248303 0, -0.151591 0.0248303 -0.0177893, -0.144724 0.0248303 -0.0343663
              , -0.133801 0.0248303 -0.0486014, -0.119566 0.0248303 -0.0595243, -0.102989 0.0248303 -0.0663907, -0.0850988 0.0248303 -0.068746
              , 0 0.0211028 -0.07029, 0 0.000366094 -0.07029, 0 0.0211028 0.07029, 0 0.000366094 0.07029
              , 0 0.0248303 0.068746, 0 0.0248303 -0.068746, 0 0.0263743 -0.0650185, 0 0.0263743 0.0650185
              "/>
          </IndexedFaceSet>
        </Shape>
      </Group>
    </Transform>
    <Transform DEF="ToggleBase_XForm" translation="-0.08 0 0">
      <Group DEF="ToggleBase_MeshItem">
        <Shape DEF="Toggle_Shape">
          <Appearance DEF="Material_Surf">
            <Material diffuseColor="0.0175848 0.0175848 0.8" specularColor="0.04 0.04 0.04" shininess="0.6"/>
          </Appearance>
          <IndexedFaceSet creaseAngle="0.698132" coordIndex="39,15,40,-1, 16,40,15,-1, 38,14,39,-1, 15,39,14,-1, 
            37,13,38,-1, 14,38,13,-1, 36,12,37,-1, 13,37,12,-1, 
            35,11,36,-1, 12,36,11,-1, 34,10,35,-1, 11,35,10,-1, 
            33,9,34,-1, 10,34,9,-1, 31,7,32,-1, 8,32,7,-1, 
            47,23,24,-1, 0,24,23,-1, 30,6,31,-1, 7,31,6,-1, 
            46,22,47,-1, 23,47,22,-1, 29,5,30,-1, 6,30,5,-1, 
            45,21,46,-1, 22,46,21,-1, 28,4,29,-1, 5,29,4,-1, 
            44,20,45,-1, 21,45,20,-1, 27,3,28,-1, 4,28,3,-1, 
            43,19,44,-1, 20,44,19,-1, 26,2,27,-1, 3,27,2,-1, 
            42,18,43,-1, 19,43,18,-1, 24,0,25,-1, 1,25,0,-1, 
            40,16,41,-1, 17,41,16,-1, 25,1,26,-1, 2,26,1,-1, 
            41,17,42,-1, 18,42,17,-1, 32,8,33,-1, 9,33,8,-1, 
            30,31,29,-1, 28,29,31,-1, 31,32,28,-1, 27,28,32,-1, 
            32,33,27,-1, 26,27,33,-1, 33,34,26,-1, 25,26,34,-1, 
            34,35,25,-1, 24,25,35,-1, 35,36,24,-1, 47,24,36,-1, 
            36,37,47,-1, 46,47,37,-1, 37,38,46,-1, 45,46,38,-1, 
            38,39,45,-1, 44,45,39,-1, 39,40,44,-1, 43,44,40,-1, 
            40,41,43,-1, 42,43,41,-1">
            <Coordinate DEF="ToggleBase_Pts" point=" 0 0.0262678 -0.048596, -0.0125776 0.0262678 -0.0469401, -0.024298 0.0262678 -0.0420853, -0.0343625 0.0262678 -0.0343625
              , -0.0420853 0.0262678 -0.024298, -0.0469401 0.0262678 -0.0125776, -0.048596 0.0262678 0, -0.0469401 0.0262678 0.0125776
              , -0.0420853 0.0262678 0.024298, -0.0343625 0.0262678 0.0343625, -0.024298 0.0262678 0.0420853, -0.0125776 0.0262678 0.0469401
              , 0 0.0262678 0.048596, 0.0125776 0.0262678 0.0469401, 0.024298 0.0262678 0.0420853, 0.0343625 0.0262678 0.0343625
              , 0.0420853 0.0262678 0.024298, 0.0469401 0.0262678 0.0125776, 0.048596 0.0262678 0, 0.0469401 0.0262678 -0.0125776
              , 0.0420853 0.0262678 -0.024298, 0.0343625 0.0262678 -0.0343625, 0.024298 0.0262678 -0.0420853, 0.0125776 0.0262678 -0.0469401
              , 0 0.0406453 -0.048596, -0.0125776 0.0406453 -0.0469401, -0.024298 0.0406453 -0.0420853, -0.0343625 0.0406453 -0.0343625
              , -0.0420853 0.0406453 -0.024298, -0.0469401 0.0406453 -0.0125776, -0.048596 0.0406453 0, -0.0469401 0.0406453 0.0125776
              , -0.0420853 0.0406453 0.024298, -0.0343625 0.0406453 0.0343625, -0.024298 0.0406453 0.0420853, -0.0125776 0.0406453 0.0469401
              , 0 0.0406453 0.048596, 0.0125776 0.0406453 0.0469401, 0.024298 0.0406453 0.0420853, 0.0343625 0.0406453 0.0343625
              , 0.0420853 0.0406453 0.024298, 0.0469401 0.0406453 0.0125776, 0.048596 0.0406453 0, 0.0469401 0.0406453 -0.0125776
              , 0.0420853 0.0406453 -0.024298, 0.0343625 0.0406453 -0.0343625, 0.024298 0.0406453 -0.0420853, 0.0125776 0.0406453 -0.0469401
              "/>
          </IndexedFaceSet>
        </Shape>
      </Group>
    </Transform>

    </Transform>

    <Script DEF='ToggleButtonScript'>
      <field accessType='inputOnly' name='buttonActive' type='SFBool'/>
      <field accessType='outputOnly' name='toggleButtonLocation' type='SFVec3f'/>
      <field accessType='outputOnly' name='imgURL' type='MFString'/>

      <![CDATA[
      ecmascript:
      function initialize()
      {
      	onRight = false;
      }
      function buttonActive (value)
      {
      	if (value) {
      	    onRight = !onRight;
      	    if ( onRight ) {
                toggleButtonLocation = new SFVec3f(0.08, 0, 0);
                imgURL = new MFString("right.png");;
      	    }
            else {
                toggleButtonLocation = new SFVec3f(-0.08, 0, 0);
                imgURL = new MFString("left.png");;
            }
      	}
      }
	]]>
    </Script>

    <ROUTE fromField='isActive' fromNode='ToggleTouchSensor' toField='buttonActive' toNode='ToggleButtonScript'/>
    <ROUTE fromField='toggleButtonLocation' fromNode='ToggleButtonScript' toField='translation' toNode='ToggleBase_XForm'/>
    <ROUTE fromField='imgURL' fromNode='ToggleButtonScript' toField='url' toNode='MyImg'/>

  </Scene>
</X3D>
